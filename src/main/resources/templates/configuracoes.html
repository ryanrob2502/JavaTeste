<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" th:href="@{/css/configuracoes-styles.css?v=1.0}">
 <link rel="icon" type="image/png" th:href="@{/img/favicon.png}"/>
<title>Configurações</title>
 <script>
 (function() {
 const savedTheme = localStorage.getItem('theme');
 if (savedTheme === 'dark') {
 // Aplica a classe na tag <html>
 document.documentElement.classList.add('dark-mode');
 }
 })();
</script>
</head>
<body>
 <header>
 <nav class="nav-bar">
 <div class="logo">
 <h1>MedLink</h1> 
 </div>

 <div class="nav-list">
 <ul>
 <li class="nav-item"><a th:href="@{/home}" class="nav-link">Home</a></li>
 <li class="nav-item"><a th:href="@{/pacientes}" class="nav-link">Pacientes</a></li>
 <li class="nav-item"><a th:href="@{/consultas}" class="nav-link">Consultas</a></li>
 <li class="nav-item"><a th:href="@{/configuracoes}" class="nav-link active">Configurações</a></li>
 </ul>
 </div>

 <div class="exit-button">
    <a th:href="@{/logout}" class="btn-sair" onclick>
        Sair
    </a>
</div>

 <div class="mobile-menu-icon">
 <button onclick="menuShow()">
 <svg class="icon" id="icon-menu" xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 0 24 24" width="36px" fill="#FFFFFF">
 <path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
 </svg>
 <svg class="icon" id="icon-close" style="display:none;" xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 0 24 24" width="36px" fill="#FFFFFF">
 <path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
 </svg>
 </button>
 </div>
 </nav>

 <div class="mobile-menu">
 <ul>
 <li class="nav-item"><a th:href="@{/home}" class="nav-link">Home</a></li>
 <li class="nav-item"><a th:href="@{/pacientes}" class="nav-link">Pacientes</a></li>
 <li class="nav-item"><a th:href="@{/consultas}" class="nav-link">Consultas</a></li>
 <li class="nav-item"><a th:href="@{/configuracoes}" class="nav-link active">Configurações</a></li>
 </ul>
 
 <!-- BOTÃO SAIR DO MOBILE - APENAS UM -->
 <div class="exit-button-mobile">
            <a href="/logout" class="btn-sair" onclick="">
                Sair
            </a>
        </div>
 </div>
 </header>

 <div class="content-card">
 <h2>Configurações de Tema</h2>
 <div class="config-item">
 <span>Modo Escuro</span>
 <label class="switch">
 <input type="checkbox" id="theme-toggle">
 <span class="slider round"></span>
 </label>
 </div>
</div>

<div class="content-card ajuda-card">
    <h2>Dúvidas</h2>
    <div class="config-item">
        <span>Precisa de ajuda com o sistema?</span>
        <a th:href="@{/ajuda-config}" class="ajuda-btn">Ajuda</a>
    </div>
</div>

<div class="content-card grafico-card">
    <h2>Gráficos</h2>
    <div class="config-item">
        <span>Gostaria de visualizar os seus gráficos?</span>
        <a th:href="@{/graficos}" class="grafico-btn">Gráficos</a>
    </div>
</div>

 <script th:src="@{/js/script.js}"></script>

 <script>
 document.addEventListener('DOMContentLoaded', () => {
 const toggle = document.getElementById('theme-toggle');
 const htmlEl = document.documentElement;

 // 1. Define o estado inicial do botão
 if (htmlEl.classList.contains('dark-mode')) {
    toggle.checked = true;
 }

 // 2. Adiciona o listener para o clique
 toggle.addEventListener('change', () => {
    if (toggle.checked) {
        htmlEl.classList.add('dark-mode');
        localStorage.setItem('theme', 'dark');
    } else {
        htmlEl.classList.remove('dark-mode');
        localStorage.setItem('theme', 'light');
    }
 });
 });
</script>
</body>
</html>